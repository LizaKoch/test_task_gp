# Тестовое задание

## Описание

Этот проект генерирует отчет в формате сводной таблицы на основе файлов в формате XLSX или CSV.

Проект гибкий и универсальный. На главной странице можно загрузить файл и написать SQL-скрипт, который составит отчет. По умолчанию используется SQL-скрипт, обрабатывающий таблицу из тестового задания.

## Зависимости
Проект разработан с использованием Python 3.11, Django 4.1.7, RabbitMQ и следующих библиотек:

| Библиотека      | Версия |
|-----------------|--------|
| gunicorn        | 22.0.0 |
| psycopg         | 3.1.19 |
| pandas          | 2.2.2  |
| dramatiq        | 1.17.0 |
| django-dramatiq | 0.11.6 |
| sqlalchemy      | 2.0.31 |

## Установка
**Пример команд на Linux/MacOS*
1. Склонируйте репозиторий
1. Создайте виртуальное окружение
    ```bash
      python -m venv venv
    ```
1. Установите зависимости
    ```bash
      poetry install
    ```
1. Создайте файл `.env` и укажите в нем переменные окружения, как указано в файле `.env-template`.
1. Выполните миграции
    ```bash
      make migrate
    ```
1. Запустите проект через docker-compose
    ```bash
      make up
    ```

## Что можно сделать лучше (TODO):
1. Добавить возможность выгрузки сводной таблицы в виде файла XLSX или CSV.
1. Добавить возможность сохранения SQL-скрипта.
1. Добавить возможность запуска проекта без брокера сообщений и использования очередей.
